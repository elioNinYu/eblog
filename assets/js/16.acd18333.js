(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{515:function(t,a,s){"use strict";s.r(a);var e=s(6),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"三次握手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三次握手"}},[t._v("#")]),t._v(" 三次握手")]),t._v(" "),s("p",[t._v("TCP/IP 协议是传输层的一个面向连接的安全可靠的一个传输协议，三次握手的机制是为了保证能建立一个安全可靠的连接，那么第一次握手是由客户端发起，客户端会向服务端发送一个报文，在报文里面：SYN标志位置为1，表示发起新的连接。当服务端收到这个报文之后就知道客户端要和我建立一个新的连接，于是服务端就向客户端发送一个确认消息包，在这个消息包里面：ack标志位置为1，表示确认客户端发起的第一次连接请求。以上两次握手之后，对于客户端而言：已经明确了我既能给服务端成功发消息，也能成功收到服务端的响应。但是对于服务端而言：两次握手是不够的，因为到目前为止，服务端只知道一件事，客户端发给我的消息我能收到，但是我响应给客户端的消息，客户端能不能收到我是不知道的。所以，还需要进行第三次握手，第三次握手就是当客户端收到服务端发送的确认响应报文之后，还要继续去给服务端进行回应，也是一个ack标志位置1的确认消息。通过以上三次连接，不管是客户端还是服务端，都知道我既能给对方发送消息，也能收到对方的响应。那么，这个连接就被安全的建了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"D:%5Ccofrgit%5Ceblog%5Cblogs%5Cnet%5CshakeAndwave%5C001.jpg",alt:"001"}})]),t._v(" "),s("h1",{attrs:{id:"四次挥手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四次挥手"}},[t._v("#")]),t._v(" 四次挥手")]),t._v(" "),s("p",[t._v("四次挥手也是客户端发起的，客户端会发送一个报文，报文FIN=1，当客户端收到这个报文之后，就知道了客户端想要和我断开连接，但是此时服务端不一定做好准备，因为当客户端发起断开连接的报文的时候，服务端有可能还有未发送完的报文消息需要继续发送，所以此时服务端只能告诉客户端我知道你要和我断开连接了，但是我这里可能还没做好准备，需要等我一下，等会我会告诉你，于是，发完这个消息确认报之后，稍过片刻之后服务端继续发送一个断开连接的报文，FIN=1，表明服务端已经做好断开连接的准备，那么，当这个消息发给客户端的时候，客户端同样需要继续发送一个消息确认的报文，那么通过这四次的相互沟通和连接，我就知道了，不管是客户端还是服务端，都已经做好了断开的准备。")]),t._v(" "),s("p",[s("img",{attrs:{src:"D:%5Ccofrgit%5Ceblog%5Cblogs%5Cnet%5CshakeAndwave%5C002.jpg",alt:""}})])])}),[],!1,null,null,null);a.default=r.exports}}]);